

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="Oliver">
    
    <meta name="description" content="JUnit Testcase1不是为了测试而测试，不要去改动idf等你要测试的代码。可以在testcase里写jdbc语句
Tomcat cloud项目基本部署2Start and stop tomcat, publish to sync      
3Tomcat context name :/C">
    
    

    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>一些笔记 | oliver&#39;s leisure times</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">

    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script> 
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://shengyu.me" title="oliver's leisure times">oliver&#39;s leisure times</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                

                <ul class="nav navbar-nav">
                    
                    <li id="nav-index"><a href="/">首页</a></li>
                    
                    <li id="nav-archives"><a href="/archives">归档</a></li>
                    
                    <li id="nav-tags"><a href="/tags">标签</a></li>
                    
                    <li id="nav-categories"><a href="/categories">分类</a></li>
                    
                    <li id="nav-curriculumvitae"><a href="/curriculumvitae">关于</a></li>
                    
                    <li id="nav-links"><a href="/links">链接</a></li>
                    
                    
                    <li><a href="https://github.com/shengyu06" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <script>
    var backRoot = "/images/background/";
    var backArray = [ "1.jpg", "2.jpg", "3.jpg",  ];
        
    $(function() {
        // page-id...
        var pageId = "2016/03/03/一些笔记/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";
        
        $("#nav-" + pageId).addClass("active");
    });
    </script>

    <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>一些笔记</h1>
        
        <div class="time-info">
发表于:<time datetime="2016-03-03T14:22:38.000Z" itemprop="datePublished">2016-03-03</time>，更新于:<time datetime="2016-03-09T15:58:47.000Z" itemprop="dateModified">2016-03-09</time>，By <a href="http://shengyu.me" title="Oliver">Oliver</a>
        </div>
        
        <div class="post-body-inner">
            <div id="toc" class="toc-article well">
                <strong class="toc-title">大纲</strong>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JUnit-Testcase"><span class="toc-number">1.</span> <span class="toc-text">JUnit Testcase</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1"><span class="toc-number">1.1.</span> <span class="toc-text">1</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tomcat-cloud项目基本部署"><span class="toc-number">2.</span> <span class="toc-text">Tomcat cloud项目基本部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2"><span class="toc-number">2.1.</span> <span class="toc-text">2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3"><span class="toc-number">2.2.</span> <span class="toc-text">3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4"><span class="toc-number">2.3.</span> <span class="toc-text">4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5"><span class="toc-number">2.4.</span> <span class="toc-text">5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6"><span class="toc-number">2.5.</span> <span class="toc-text">6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7"><span class="toc-number">2.6.</span> <span class="toc-text">7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8"><span class="toc-number">2.7.</span> <span class="toc-text">8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9"><span class="toc-number">2.8.</span> <span class="toc-text">9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10"><span class="toc-number">2.9.</span> <span class="toc-text">10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11"><span class="toc-number">2.10.</span> <span class="toc-text">11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12"><span class="toc-number">2.11.</span> <span class="toc-text">12</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15"><span class="toc-number">2.12.</span> <span class="toc-text">15</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16"><span class="toc-number">2.13.</span> <span class="toc-text">16</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Eclipse快捷键等等"><span class="toc-number">3.</span> <span class="toc-text">Eclipse快捷键等等</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1"><span class="toc-number">3.1.</span> <span class="toc-text">1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1"><span class="toc-number">3.2.</span> <span class="toc-text">2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux命令学习笔记"><span class="toc-number">4.</span> <span class="toc-text">linux命令学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2"><span class="toc-number">4.1.</span> <span class="toc-text">1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2"><span class="toc-number">4.2.</span> <span class="toc-text">2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1"><span class="toc-number">4.3.</span> <span class="toc-text">3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1"><span class="toc-number">4.4.</span> <span class="toc-text">4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1"><span class="toc-number">4.5.</span> <span class="toc-text">5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2"><span class="toc-number">4.6.</span> <span class="toc-text">5</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#thinking-in-java笔记"><span class="toc-number">5.</span> <span class="toc-text">thinking in java笔记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS学习笔记"><span class="toc-number">6.</span> <span class="toc-text">JS学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3"><span class="toc-number">6.1.</span> <span class="toc-text">1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3"><span class="toc-number">6.2.</span> <span class="toc-text">2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2"><span class="toc-number">6.3.</span> <span class="toc-text">3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2"><span class="toc-number">6.4.</span> <span class="toc-text">4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3"><span class="toc-number">6.5.</span> <span class="toc-text">5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1"><span class="toc-number">6.6.</span> <span class="toc-text">6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1"><span class="toc-number">6.7.</span> <span class="toc-text">7</span></a></li></ol></li></ol>
            </div>

            
            <h2 id="JUnit-Testcase"><a href="#JUnit-Testcase" class="headerlink" title="JUnit Testcase"></a>JUnit Testcase</h2><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>不是为了测试而测试，不要去改动idf等你要测试的代码。可以在testcase里写jdbc语句</p>
<h2 id="Tomcat-cloud项目基本部署"><a href="#Tomcat-cloud项目基本部署" class="headerlink" title="Tomcat cloud项目基本部署"></a>Tomcat cloud项目基本部署</h2><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>Start and stop tomcat, publish to sync      </p>
<h3 id="3"><a href="#3" class="headerlink" title="3"></a>3</h3><p>Tomcat context name :/CloudService;  Web project setting-&gt; context root: /CloudService       </p>
<h3 id="4"><a href="#4" class="headerlink" title="4"></a>4</h3><p>Initially war-&gt;lib-&gt;jbio-full.jar, need to edit java build path       </p>
<h3 id="5"><a href="#5" class="headerlink" title="5"></a>5</h3><p>Netstat to check if any portal is already occupied, then end task using task manager accordingly          </p>
<h3 id="6"><a href="#6" class="headerlink" title="6"></a>6</h3><p>Web.xml addChild to BasicServlet error, comment out all web.xml in tomcat, this is because the dd of the project has conflict with the dd of tomcat            </p>
<h3 id="7"><a href="#7" class="headerlink" title="7"></a>7</h3><p>Some lib in tomcat might be wrong        </p>
<h3 id="8"><a href="#8" class="headerlink" title="8"></a>8</h3><p>Projectname-&gt;.metadata-&gt;.plugin-&gt;org.eclipse.wst.server.core-&gt;tmp0, where tomcat log files resides             </p>
<h3 id="9"><a href="#9" class="headerlink" title="9"></a>9</h3><p>First ctrl+c to terminate npm, then right click tomcat server to tomcat, maybe have to force quit server          </p>
<h3 id="10"><a href="#10" class="headerlink" title="10"></a>10</h3><p>Window-&gt;preferences-&gt;server-&gt;runtime environment-&gt;apache tomcat v6.0-&gt;edit and you can find tomcat installation directory           </p>
<h3 id="11"><a href="#11" class="headerlink" title="11"></a>11</h3><p>Then in conf-&gt;catalina-&gt;localhost, rename the other xml files to solve the conflict                 </p>
<h3 id="12"><a href="#12" class="headerlink" title="12"></a>12</h3><p>Additionally, if there is only red texts in console(which indicates the server is not mounted yet, clean tomcat, then republish, start until there is black texts                    </p>
<h3 id="15"><a href="#15" class="headerlink" title="15"></a>15</h3><p>Clearcase Bundle的东西去TDE看，选application profiles-&gt;advanced filter(add,ok)-&gt;中间下面app image-&gt;最好选UAT(Dev的据说版本号会多一些难找些),根据版本号找到         </p>
<h3 id="16"><a href="#16" class="headerlink" title="16"></a>16</h3><p>ct lsco -r .<br>ct ci -nc ./src/cloud-image1.0.77/FIT/cloud-bundle/dist/FIT_image.zip        </p>
<h2 id="Eclipse快捷键等等"><a href="#Eclipse快捷键等等" class="headerlink" title="Eclipse快捷键等等"></a>Eclipse快捷键等等</h2><p>User-&gt;etc-&gt;CDT-&gt;tomcat         </p>
<h3 id="1-1"><a href="#1-1" class="headerlink" title="1"></a>1</h3><p>eclipse search file CTRL+SHIFT + R<br>comment whole file: CTRL + /<br>properties-&gt; java build path-&gt; add server run time tomcat 7.0            </p>
<h3 id="2-1"><a href="#2-1" class="headerlink" title="2"></a>2</h3><p>use BC2 to compare two files, use jd-gui to reverse compile a java file                 </p>
<h2 id="linux命令学习笔记"><a href="#linux命令学习笔记" class="headerlink" title="linux命令学习笔记"></a>linux命令学习笔记</h2><h3 id="1-2"><a href="#1-2" class="headerlink" title="1"></a>1</h3><p>hardlink is like a copy, but will survive when the original file deleted, while softlink is none when original deleted. But when you make modification to file, both links will change(vice versa)              </p>
<h3 id="2-2"><a href="#2-2" class="headerlink" title="2"></a>2</h3><p>head -5 .txt\<br>tail –f can see in time log change<br>tar –zcvf <em>.tar.gz </em><br>tar –zxvf  <em>.gz<br>which ping // where is tar<br>find .   –name  “f1.txt”<br>find . –mtime  0<br>find . –size 0<br>find . –type  l or d<br>ll | grep </em>.sh(-v to filter)<br>df | more, du -h                           </p>
<h3 id="3-1"><a href="#3-1" class="headerlink" title="3"></a>3</h3><p>mount  -l | more //挂载了什么 mount –a /挂载起来，查找/etc/fstab配置信息  mount –o ro rw 支持ext2,ext3, NFS  SBMSF                    </p>
<h3 id="4-1"><a href="#4-1" class="headerlink" title="4"></a>4</h3><p>ps –efl //当前正在运行进程<br>kill -9 29173//强制杀<br>env | more                   </p>
<h3 id="5-1"><a href="#5-1" class="headerlink" title="5"></a>5</h3><p>bash, export cool=”haha”<br>echo $PATH<br>export PATH=~/:$PATH<br>alias la=’ls –al | more’<br>unalias<br>/etc/profile \ login shell<br>~/.bash_profile  //用户个人loginshell<br>netstat –an | grep 8080 //监控网络tcpudp  端口8080是否被占用              </p>
<h3 id="5-2"><a href="#5-2" class="headerlink" title="5"></a>5</h3><p>hostname<br>nslookup www.163.com<br>vi  x删除一个字符，dd删一行   </p>
<h2 id="thinking-in-java笔记"><a href="#thinking-in-java笔记" class="headerlink" title="thinking in java笔记"></a>thinking in java笔记</h2><ol>
<li>接口的所有元素必须是public的。包括嵌套的接口。           </li>
<li>类里面嵌套的接口可以是public或者package访问权限的          </li>
<li>实现接口的时候，不一定要实现嵌套在里面的接口          </li>
<li>接口所定义的数据都自动是static和final的             </li>
<li>普通类（非内部类）是不能被定义成private或者protected的。他们只可能是public或package权限的                   </li>
<li>普通的内部类对象都默认保存它的宿主类对象的reference,但static内部类不是        </li>
<li>不能在嵌套类(static内部类)的对象里面访问非static的宿主类对象           </li>
<li>如果你需要获取指向宿主类对象的reference,那么可以在宿主类名字的后面加一个点再加this来表示宿主类                </li>
<li>Parcel11.Contents c = p.new Contents();//must use instance of outer class to create an instance of the inner class               </li>
<li>Conclusion:其实一般的new,只是Object.      new的缩写?所有类都是Object的内部类?错。。。只是Object的子类而已！！！        </li>
<li>继承内部类的时候，你必须要传给他宿主类的reference,而且必须enclosingClassReference.super();                     </li>
<li>每个内部类都可以独立地继承某个实现。内部类不会受“宿主类是否已经继承了别的实现”的约束(multiple implementation inheritance)                 </li>
<li>Clousure是一种能调用的对象，它记录了创建它的那个作用域信息            </li>
<li>多态性是OOP的一个主要目标，要让绝大多数代码只同代表这个类系的基类对象打交道，对他们来说，越少知道下面的具体类型越好                   </li>
<li>class对象只会在需要的时候装载，而static初始化则发生在装载类的时候         </li>
<li>forName()              返回class的reference,副作用是看看这个类装载了没有，若没有则马上装载, Class.forName(“packageName.Dog”), Class.newInstance()会调用类的默认构造函数       </li>
<li>Object o = pets[i]; if ( o instanceof Dog)          </li>
<li>依赖注入，即组件之间的依赖关系由容器在运行期决定                  </li>
<li>Org.springframework.beans -&gt;BeanWrapper, BeanFactory</li>
</ol>
<h2 id="JS学习笔记"><a href="#JS学习笔记" class="headerlink" title="JS学习笔记"></a>JS学习笔记</h2><h3 id="1-3"><a href="#1-3" class="headerlink" title="1"></a>1</h3><p>When the data changes, React conceptually hits the “refresh” button and knows to only update the changed parts.</p>
<pre><code>function makeEmptyFunction(arg) {
  return function () {
    return arg;
  };
}
emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
</code></pre><h3 id="2-3"><a href="#2-3" class="headerlink" title="2"></a>2</h3><p>Javascript is a weak type language, string can use “” or ‘’<br>=== strict equal(check value and type)<br>Function myFunction(params) {}(extra param are ignored and no error, missing params are passed in as undefined)<br>    var multipleValues = [50, 60, “Mouse”];<br>    var multipleValues = new Array(); or = Array(5);  //but arrays in js are dynamic size<br>arrays are objects, array.length,<br>var myArrayOfLinks = document.getElementsByTagName(“a”);<br>all javascript numbers are 64-bit floating point numbers<br>var foo = “55”; var myNumber = Number(foo);<br>    if( isNaN(myNumber)) { console.log(“It’s not a number!”)}<br>Math Object,  Math.round(x); Math.max(a, b, c), PI, random, sqrt, log<br>    var phrase = “He said \” that’s fine, \” and left.”;<br>String is an object and has length property too.<br>    Phrase.toUpperCase();<br>    var words = phrase.split(“ “);<br>    phrase.indexOf(“groovy”); // return -1 if not found<br>    var phrase = “Yet another phrase.”; var segment = phrase.slice(6, 11); (not including 11)</p>
<h3 id="3-2"><a href="#3-2" class="headerlink" title="3"></a>3</h3><p>slice does not change original string<br>substring(start, end) identical to slice, substr(start, length);<br>ABCD… less than abcd… in string(sort order)<br>var today = new Date();//current date and time, milliseconds<br>var y2k = new Date(2000, 0, 1);<br>today.getMonth(); getFullYear(); getDate()// 1-31 day of month; getDay();// 0 is Sunday<br>today.getTime();//milliseconds since 1/1/1970, most useful  </p>
<h3 id="4-2"><a href="#4-2" class="headerlink" title="4"></a>4</h3><pre><code>var player1 = {name: “Fred”, score: 10000, rank: 1};
function playerDetails(console.log(this.name + “ has a rank of: “ + this.rank;) { // display info about each player}
player1.logDetails = playerDetails;
player1.logDetails();
</code></pre><h3 id="5-3"><a href="#5-3" class="headerlink" title="5"></a>5</h3><p>DOM: document is the web page, model is the html tree structure// calling them all nodes<br>Element node,  attribute node(id = “optionList”), text node// nodeType<br>Id is unique, var mainTitle = document.getElementByID(“someId”);// get a handle to that element<br>document.getElementsByTagName(“a”)// get multiple elements stored in an array or if there is no id<br>mainTitle.innerHTML, .childNodes.length<br>    myElement.getAttribute(“align”);<br>    myElement.setAttribute(“align”, “left”);// add it if not exist<br>    var newHeading = document.createElement(“h1”);<br>    var newParagraph = document.createElement(“p”);<br>    //newHeading.innerHTML = “Did you know?”;<br>    //newParagraph.innerHTML=”….”;<br>Or<br>    var h1Text = document.createTextNode(“Did you know?”);<br>    var paraText = document.createTextNode(“California produces”);<br>    newHeading.appendChild(h1Text);<br>    newParagraph.appendChild(paraText);//or insertBefore(newElement, existingElement);<br>    document.getElementById(“trivia”).appendChild(newHeading);<br>    document.getElementById(“trivia”).appendChild(newParagraph);<br>static page not good , so -&gt;</p>
<h3 id="6-1"><a href="#6-1" class="headerlink" title="6"></a>6</h3><p>events and event listeners//onload, onclick, onmouseover, onblur, onfocus<br>you write handling events functions<br>element.event = // myelement.onclick = function() {//your event handler code}; //anonymous functions //very common in java. You actually saying later on when user clicks this element, we do…<br>document.addEventListener(‘click’, myFunction, false);// you can add listener to multiple events attachEvent before IE 9// removeEventListener<br>use JQuery or another lib instead of writing your own cross-browser code<br>    document.onclick = function() { alert(“you clicked somewhere”);};<br>    function prepareEventHandlers(){ var myImage = document.getElementById(“mainImage”);<br>    myImage.onclick = function() {alert(“You clicked the image”);}}<br>    window.onload = function() { prepareEventHandlers(); };</p>
<pre><code>var emailField = document.getElementById(“email”);//on forms
emailField.onfocus = function() { if(emailField.value == “your email”) { emailFiled.value = “”;}};
emailFileld.onblur = function() { if(emailFiled.value == “”) { emailField.value = “your email”;}};

setTimeout(simpleMessage, 5000);//settimeout is in milliseconds
var intervalHandle = setInterval(changeImage, 5000);//setInterval repeats
myImage.onclick = function() { clearInterval(intervalHandle);};
</code></pre><p>right click on a element and inspect in DOM<br>enable script label in firebug             </p>
<h3 id="7-1"><a href="#7-1" class="headerlink" title="7"></a>7</h3><p>form events<br>document.forms.frmName.element<br>myTextField.value  onfocus, onblur, onkeypress, onchange, onkeydown, onkeyup<br>myCheckBox.checked   onclick  onchange<br>mySelect.type  onchange//selectedIndex, options[x].selected true or false<br>myForm.onsubmit                </p>


			
            <section class="comment">
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="/2016/03/03/一些笔记/" data-title="一些笔记" data-url="http://shengyu.me/2016/03/03/一些笔记/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"PalmyYS"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</section>
        </div>
    </div>
</article>

    <footer id="footer">
        <small>该博客由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动，搭载 <a href="https://github.com/XadillaX/hexadillax" target="_blank">Hexadillax</a> 主题</small><br />
        <small>&copy; 2016 Oliver</small>
    </footer>

    


</body>
</html>

